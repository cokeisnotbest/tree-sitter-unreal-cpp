===
UCLASS Test
===

UCLASS(MinimalAPI, Blueprintable)
class AMyActor : public AActor
{
	GENERATED_BODY()
};

---
(translation_unit
  (unreal_class_declaration
    (uclass_macro
      specifiers: (unreal_specifier_list
        (unreal_specifier (unreal_specifier_keyword))
        (unreal_specifier (unreal_specifier_keyword))))
    name: (type_identifier)
    (base_class_clause
      (access_specifier)
      (type_identifier))
    body: (field_declaration_list
      (unreal_body_macro))))

===
UCLASS with API Specifier Test
===

UCLASS()
class MYPROJECT_API AMyActor : public AActor
{
	GENERATED_BODY()
};

---
(translation_unit
  (unreal_class_declaration
    (uclass_macro)
    (unreal_api_specifier)
    name: (type_identifier)
    (base_class_clause
      (access_specifier)
      (type_identifier))
    body: (field_declaration_list
      (unreal_body_macro))))

===
UENUM Test
===

UENUM(BlueprintType)
enum class EMyEnum : uint8_t
{
	EME_Val1,
	EME_Val2
};

---
(translation_unit
  (unreal_enum_declaration
    (uenum_macro
      specifiers: (unreal_specifier_list
        (unreal_specifier (unreal_specifier_keyword))))
    name: (type_identifier)
    base: (primitive_type)
    body: (enumerator_list
      (enumerator
        name: (identifier))
      (enumerator
        name: (identifier)))))

===
UPROPERTY and UFUNCTION Test
===

UCLASS()
class AMyNewActor : public AActor
{
	GENERATED_BODY()

public:
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Stats")
	int32 Health;

	UFUNCTION(BlueprintCallable, Category = "MyCategory")
	void MyFunction();

protected:
    UFUNCTION(Server, Reliable)
    void Server_Execute()
    {
        // Do something
    }
};

---
(translation_unit
  (unreal_class_declaration
    (uclass_macro)
    name: (type_identifier)
    (base_class_clause
      (access_specifier)
      (type_identifier))
    body: (field_declaration_list
      (unreal_body_macro)
      (access_specifier)
      (field_declaration
        (uproperty_macro
          specifiers: (unreal_specifier_list
            (unreal_specifier (unreal_specifier_keyword))
            (unreal_specifier (unreal_specifier_keyword))
            (unreal_specifier
              key: (unreal_specifier_keyword)
                  value: (string_literal
                    (string_content)))))
            type: (type_identifier)
        declarator: (field_identifier))
      (field_declaration
        (ufunction_macro
          specifiers: (unreal_specifier_list
            (unreal_specifier (unreal_specifier_keyword))
            (unreal_specifier
              key: (unreal_specifier_keyword)
              value: (string_literal
                  (string_content)))))
            type: (primitive_type)
            declarator: (function_declarator
          declarator: (field_identifier)
          parameters: (parameter_list)))
      (access_specifier)
      (function_definition
        (ufunction_macro
          specifiers: (unreal_specifier_list
            (unreal_specifier (unreal_specifier_keyword))
            (unreal_specifier (unreal_specifier_keyword))))
        type: (primitive_type)
        declarator: (function_declarator
          declarator: (field_identifier)
          parameters: (parameter_list))
        body: (compound_statement
          (comment))))))

=====
USTRUCT Test
===

USTRUCT(Blueprintable)
struct FSplineNodeData
{
    GENERATED_BODY()
public:
    UPROPERTY(EditAnywhere, BlueprintReadWrite)
    FTransform Transform = FTransform::Identity;
    
    UPROPERTY(EditAnywhere, BlueprintReadWrite)
    float test = 0.0f;
};

---
(translation_unit
  (unreal_struct_declaration
    (ustruct_macro
      specifiers: (unreal_specifier_list
        (unreal_specifier (unreal_specifier_keyword))))
    name: (type_identifier)
    body: (field_declaration_list
      (unreal_body_macro)
      (access_specifier)
      (field_declaration
        (uproperty_macro
          specifiers: (unreal_specifier_list
            (unreal_specifier (unreal_specifier_keyword))
            (unreal_specifier (unreal_specifier_keyword))))
        type: (type_identifier)
        declarator: (field_identifier)
        default_value: (qualified_identifier
          scope: (namespace_identifier)
          name: (identifier)))
      (field_declaration
        (uproperty_macro
          specifiers: (unreal_specifier_list
            (unreal_specifier (unreal_specifier_keyword))
            (unreal_specifier (unreal_specifier_keyword))))
        type: (primitive_type)
        declarator: (field_identifier)
        default_value: (number_literal)))))
    

===
UObject Class Definition Test
===

class UObject : public UObjectBaseUtility
{
	// Declarations
	DECLARE_CLASS(UObject,UObject,CLASS_Abstract|CLASS_Intrinsic|CLASS_MatchedSerializers,CASTCLASS_None,TEXT("/Script/CoreUObject"),COREUOBJECT_API)
	DEFINE_DEFAULT_OBJECT_INITIALIZER_CONSTRUCTOR_CALL(UObject)
	typedef UObject WithinClass;

	/** Default constructor */
	COREUOBJECT_API UObject();

	/** Constructor that takes an ObjectInitializer. */
	COREUOBJECT_API UObject(const FObjectInitializer& ObjectInitializer);

	/** Utility function for templates below */
	COREUOBJECT_API UObject* CreateDefaultSubobject(FName SubobjectFName, UClass* ReturnType, UClass* ClassToCreateByDefault, bool bIsRequired, bool bIsTransient);
};

---

(translation_unit
  (class_specifier
    name: (type_identifier)
    (base_class_clause
      (access_specifier)
      (type_identifier))
    body: (field_declaration_list
      (comment)
      (unreal_declare_class_macro
        (identifier)
        (identifier)
        (binary_expression
          left: (binary_expression
            left: (identifier)
            right: (identifier))
          right: (identifier))
        (identifier)
        (call_expression
          function: (identifier)
          arguments: (argument_list
            (string_literal
              (string_content))))
        (unreal_api_specifier))
      (unreal_define_default_object_initializer_macro
        (identifier))
      (type_definition
        type: (type_identifier)
        declarator: (type_identifier))
      (comment)
      (declaration
        (storage_class_specifier
          (unreal_api_specifier))
        declarator: (function_declarator
          declarator: (identifier)
          parameters: (parameter_list)))
      (comment)
      (declaration
        (storage_class_specifier
          (unreal_api_specifier))
        declarator: (function_declarator
          declarator: (identifier)
          parameters: (parameter_list
            (parameter_declaration
              (type_qualifier)
              type: (type_identifier)
              declarator: (reference_declarator
                (identifier))))))
      (comment)
      (field_declaration
        (storage_class_specifier
          (unreal_api_specifier))
        type: (type_identifier)
        declarator: (pointer_declarator
            declarator: (function_declarator
            declarator: (field_identifier)
            parameters: (parameter_list
              (parameter_declaration
                type: (type_identifier)
                declarator: (identifier))
              (parameter_declaration
                type: (type_identifier)
                declarator: (pointer_declarator
                  declarator: (identifier)))
              (parameter_declaration
                type: (type_identifier)
                declarator: (pointer_declarator
                  declarator: (identifier)))
              (parameter_declaration
                type: (primitive_type)
                declarator: (identifier))
              (parameter_declaration
                type: (primitive_type)
               declarator: (identifier)))))))))


===
Unreal Declaration Macros Test
===

DECLARE_LOG_CATEGORY_EXTERN(LogObj, Log, All);

ENUM_CLASS_FLAGS(EEditChangePropagationFlags);

class MyTestClass
{
	DECLARE_FUNCTION(execUndefined);
};

---

(translation_unit
  (unreal_declaration_macro
    name: (identifier)
    arguments: (argument_list
      (identifier)
      (identifier)
      (identifier)))
  (unreal_declaration_macro
    name: (identifier)
    arguments: (argument_list
      (identifier)))
  (class_specifier
    name: (type_identifier)
    body: (field_declaration_list
      (unreal_declaration_macro
        name: (identifier)
        arguments: (argument_list
        (identifier))))))


===
FORCEINLINE Macro Test
===

FORCEINLINE bool IsValid(const UObject *Test)
{
	return Test && FInternalUObjectBaseUtilityIsValidFlagsChecker::CheckObjectValidBasedOnItsFlags(Test);
}

---

(translation_unit
  (function_definition
    (storage_class_specifier (unreal_force_inline))
    type: (primitive_type)
    declarator: (function_declarator
      declarator: (identifier)
      parameters: (parameter_list
        (parameter_declaration
          (type_qualifier)
           type: (type_identifier)
          declarator: (pointer_declarator
            declarator: (identifier)))))
    body: (compound_statement
      (return_statement
        (binary_expression
          left: (identifier)
          right: (call_expression
            function: (qualified_identifier
              scope: (namespace_identifier)
              name: (identifier))
            arguments: (argument_list
              (identifier))))))))
